<UserControl x:Class="sistecDesktop.Views.LoginView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             d:DesignHeight="768" d:DesignWidth="1400"
             Loaded="UserControl_Loaded">

    <Grid>


        <Grid x:Name="mainGrid" Background="{StaticResource gradient-background}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Viewbox Grid.Row="1" Grid.RowSpan="3"
                 HorizontalAlignment="Right"
                 Margin="0 0 20 0">

                <Border Width="300" Height="300" CornerRadius="10"
                    Style="{StaticResource BorderShadow}"
                    Background="{StaticResource brush-vibrantViolet}">

                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Image Source="/images/logo-white.png" Width="100" Height="100" Margin="0 0 0 0"/>
                        <TextBlock Text="Sistema de Chamados"
                               Margin="0 30 0 10"
                               TextAlignment="Center" FontSize="16"
                               FontFamily="{StaticResource MontserratBold}"
                               Foreground="{StaticResource brush-lavenderMist}"/>
                        <TextBlock Text="Gerencie seus chamados técnicos de forma eficiente"
                               TextWrapping="Wrap" TextAlignment="Center"
                               FontSize="10"
                               Foreground="{StaticResource brush-lavenderMist}"/>
                    </StackPanel>
                </Border>
            </Viewbox>

            <Viewbox Grid.Column="1" Grid.Row="1" Grid.RowSpan="3"
                 HorizontalAlignment="Left" Margin="20 0 0 0">

                <Border Width="300" Height="300" CornerRadius="10"
                    Tag="Login"
                    Style="{StaticResource BorderShadow}"
                    Background="{StaticResource brush-lavenderMist}">

                    <StackPanel>
                        <TextBlock Text="Entrar no Sistema"
                               TextAlignment="Center" FontSize="18"
                               Margin="0 15 0 5"
                               FontFamily="{StaticResource MontserratBold}"
                               Foreground="{StaticResource brush-midnightNavy}"/>

                        <TextBlock Text="Digite suas credenciais para acessar"
                               TextAlignment="Center" FontSize="12"
                               Margin="0 0 0 10"
                               Foreground="{StaticResource brush-coolGray}"/>


                        <!-- Email -->
                        <Label Content="E-mail" 
                               Foreground="{StaticResource brush-midnightNavy}"/>

                        <TextBox x:Name="txtEmail" Style="{StaticResource MyTextBox}"
                                 Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"
                                 Height="25" Margin="5 0 5 0"/>

                        <!-- Senha -->
                        <Label Content="Senha" Margin="0 10 0 0"
                               Foreground="{StaticResource brush-midnightNavy}"/>

                        <PasswordBox x:Name="passwordBox"
                                     PasswordChar="●" 
                                     Height="25"
                                     Style="{StaticResource MyPasswordBox}"
                                     PasswordChanged="PasswordBox_PasswordChanged"
                                     Margin="5 0 5 0"/>

                        <TextBlock Margin="0 10 10 10"
                                   HorizontalAlignment="Right"
                                   FontSize="12">
                            <Hyperlink Command="{Binding EsqueciSenhaCommand}"
                                       Style="{StaticResource MyHyperlink}">
                                Esqueceu sua senha?
                            </Hyperlink>

                        </TextBlock>

                        <!-- Botão Entrar -->
                        <Button x:Name="btnEnter" Style="{StaticResource MyButton}"
                                FontFamily="{StaticResource MontserratBold}"
                                Content="Entrar" FontSize="12" 
                                Height="25" Margin="20, 5, 20, 0"
                                IsDefault="True"
                                Command="{Binding LoginCommand}"/>
                        
                        
                        <!-- Mensagem de Erro (sempre visível, mas só tem texto se der erro) -->
                        <TextBlock Text="{Binding MensagemErro}"
                                   Foreground="Red"
                                   TextWrapping="Wrap"
                                   TextAlignment="Center"
                                   FontSize="10"/>

                    </StackPanel>
                </Border>
            </Viewbox>

            <ContentControl Content="{Binding SelectedViewModel}"/>

            <ContentControl Grid.Column="1" 
                            Content="{Binding CurrentView}" 
                            Margin="200,0,0,0"/>

        </Grid>



        <!-- Overlay escuro (inicialmente invisível) -->
        <Grid x:Name="DarkOverlay" 
              Background="#80000000" 
              Visibility="Collapsed"/>
    </Grid>


</UserControl>
